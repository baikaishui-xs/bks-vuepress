(window.webpackJsonp=window.webpackJsonp||[]).push([[267],{830:function(n,e,t){"use strict";t.r(e);var s=t(15),r=Object(s.a)({},(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[n._v("文档：https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html")]),n._v(" "),t("p",[n._v("限制：出于安全性考虑，必须满足一下两个条件\n（1）只能请求 HTTPS 类型的接口\n（2）只能请求 白名单中的域名")]),n._v(" "),t("p",[n._v("查看白名单\n微信开发者工具 → 详情 → 项目配置 → 域名信息")]),n._v(" "),t("p",[n._v("跨域\n跨域只存在于基于浏览器的 Web 开发中。由于小程序的宿主环境不是浏览器，而是微信客户端，所有小程序中不存在跨域的问题")]),n._v(" "),t("p",[n._v("Ajax\nAjax 技术的核心是依赖于浏览器中的 XMLHttpRequest 这个对象，由于小程序的宿主环境是微信客户端，所以小程序中不能叫做 “发起 Ajax 请求”，而是叫做 “发起网络数据请求”")]),n._v(" "),t("p",[n._v("报错\n没有权限请求接口、不在以下 request 合法域名列表中：\n解决方法：\n方法一：设置 AppID")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[n._v("  方法二：将接口的域名添加到白名单中\n    使用步骤：登录小程序后台 → 开发 → 开发管理 → 开发设置 → 服务器域名 → 开始配置\n    刷新项目：微信开发者工具 → 详情 → 项目配置 → 刷新域名信息 → 重新编译\n\n  方法三：开启 不校验合法域名（仅在开发中使用）\n    使用步骤：微信开发者工具 → 详情 → 本地设置 → 开启 不校验合法域名\n")])])]),t("p",[n._v("语法：\nwx.request({            // 发送请求\nurl: '',              // 接口地址\ndata: {},             // 请求参数\nmethod: '',           // 请求方式（默认 GET）\ndataType: '',         // 返回值类型（默认 json）\nresponseType: '',     // 返回数据类型（默认 text）\nheader: {},           // 请求头\nsuccess: (res) => {}  // 回调函数：成功 时调用；res：响应信息\nfail: () => {}        // 回调函数：失败 时调用\ncomplete: () => {}    // 回调函数：成功或失败 时都会调用\n})")]),n._v(" "),t("p",[n._v("使用步骤：\n（1）定义 data 数据\nswiperList: []")]),n._v(" "),t("p",[n._v("（2）定义请求方法\ngetSwiperList() {\nwx.request({\nurl: '',\nsuccess: (res) => {\nthis.setData({\nswiperList: res.data.message\n})\n}\n})\n}")]),n._v(" "),t("p",[n._v("（3）调用请求方法\nonLoad: function () {\nthis.getSwiperList()\n}")])])}),[],!1,null,null,null);e.default=r.exports}}]);