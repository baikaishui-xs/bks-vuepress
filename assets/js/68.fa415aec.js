(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{631:function(s,a,t){"use strict";t.r(a);var n=t(15),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"知识点-部署到远程服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#知识点-部署到远程服务器"}},[s._v("#")]),s._v(" 知识点：部署到远程服务器")]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 该流程由 运维 部署")]),s._v(" "),t("p",[t("strong",[s._v("轻量应用服务器 文档：")]),s._v(" "),t("code",[s._v("https://cloud.tencent.com/document/product/1207")])]),s._v(" "),t("p",[t("strong",[s._v("参考 视频：")]),s._v(" "),t("code",[s._v("https://www.bilibili.com/video/BV1ZT4y1c7iL?p=12")])]),s._v(" "),t("p",[t("strong",[s._v("视频：")]),s._v(" "),t("code",[s._v("https://www.bilibili.com/video/BV1334y1U7Wz?spm_id_from=333.337.search-card.all.click")])]),s._v(" "),t("p",[t("strong",[s._v("平台：")]),s._v(" 腾讯云")]),s._v(" "),t("p",[t("strong",[s._v("服务器配置：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("类型：")]),s._v(" 2 核 4G 轻量级服务器")]),s._v(" "),t("li",[t("strong",[s._v("宽带：")]),s._v(" 6M")]),s._v(" "),t("li",[t("strong",[s._v("系统盘：")]),s._v(" 60GB SSD盘")]),s._v(" "),t("li",[t("strong",[s._v("月流量：")]),s._v(" 1000GB")])]),s._v(" "),t("h1",{attrs:{id:"镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像"}},[s._v("#")]),s._v(" 镜像")]),s._v(" "),t("p",[s._v("应用镜像：适合不会 Linux 操作系统的用户\n系统镜像：Ubuntu 20.04 LTS（这个是 Linux 其中的一个版本）（推荐）")]),s._v(" "),t("h1",{attrs:{id:"域名实名认证-满-72-小时后才可备案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#域名实名认证-满-72-小时后才可备案"}},[s._v("#")]),s._v(" 域名实名认证（满 72 小时后才可备案）")]),s._v(" "),t("h1",{attrs:{id:"备案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#备案"}},[s._v("#")]),s._v(" 备案")]),s._v(" "),t("p",[t("strong",[s._v("科普：")]),s._v(" 使用中国大陆境内服务器开办网站，必须完成 ICP 备案，并取得工信部备案号")]),s._v(" "),t("p",[t("strong",[s._v("时长：")]),s._v(" 20 个工作日内。（我只用了 3 天）\n- 服务器平台（腾讯云）将会在 1 个工作日左右将您的备案订单上报至通信管理局。（腾讯客服会打电话向你核实信息。然后在打电话向你的紧急联系人核对信息）\n- 通信管理局将在 20 个工作日内完成审核")]),s._v(" "),t("p",[t("strong",[s._v("请做好以下准备：")]),s._v("\n1、注册域名")]),s._v(" "),t("p",[s._v("2、购买服务器")]),s._v(" "),t("h1",{attrs:{id:"公安备案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#公安备案"}},[s._v("#")]),s._v(" 公安备案")]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 网站需要在备案通过后的 30 天内进行公安备案")]),s._v(" "),t("p",[t("strong",[s._v("具体操作流程 和 填写信息：")]),s._v(" https://cloud.tencent.com/document/product/243/19142")]),s._v(" "),t("h1",{attrs:{id:"解析域名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析域名"}},[s._v("#")]),s._v(" 解析域名")]),s._v(" "),t("p",[s._v("1、主机记录选择 www\n2、记录值为远程服务器 ip")]),s._v(" "),t("h1",{attrs:{id:"添加用户-并给予这个用户管理员的权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加用户-并给予这个用户管理员的权限"}},[s._v("#")]),s._v(" 添加用户，并给予这个用户管理员的权限")]),s._v(" "),t("h2",{attrs:{id:"_1、重置远程服务器密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、重置远程服务器密码"}},[s._v("#")]),s._v(" 1、重置远程服务器密码")]),s._v(" "),t("h2",{attrs:{id:"_1、添加用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、添加用户"}},[s._v("#")]),s._v(" 1、添加用户")]),s._v(" "),t("p",[t("code",[s._v("sudo adduser zcr")])]),s._v(" "),t("ul",[t("li",[s._v("创建密码")]),s._v(" "),t("li",[s._v("确认密码")]),s._v(" "),t("li",[s._v("信息默认不填")]),s._v(" "),t("li",[s._v("Y")])]),s._v(" "),t("h2",{attrs:{id:"_2、打开-sudoers-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、打开-sudoers-文件"}},[s._v("#")]),s._v(" 2、打开 sudoers 文件")]),s._v(" "),t("p",[t("code",[s._v("sudo vim /etc/sudoers")])]),s._v(" "),t("h2",{attrs:{id:"_3、给予用户管理员权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、给予用户管理员权限"}},[s._v("#")]),s._v(" 3、给予用户管理员权限")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("Defaults        env_reset\nDefaults        mail_badpass\nDefaults        secure_path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"')]),s._v("\n\nroot    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("admin "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("sudo   "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 增\n  zcr "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n\nlighthouse "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NOPASSWD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),s._v("\nubuntu  "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NOPASSWD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("ul",[t("li",[s._v("强制报错：W!")]),s._v(" "),t("li",[s._v("退出：q")])]),s._v(" "),t("h2",{attrs:{id:"_4、退出远程服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、退出远程服务器"}},[s._v("#")]),s._v(" 4、退出远程服务器")]),s._v(" "),t("p",[t("code",[s._v("exit")])]),s._v(" "),t("h2",{attrs:{id:"_5、以后使用刚刚创建的-zcr-用户进行连接即可"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、以后使用刚刚创建的-zcr-用户进行连接即可"}},[s._v("#")]),s._v(" 5、以后使用刚刚创建的 zcr 用户进行连接即可")]),s._v(" "),t("p",[t("code",[s._v("ssh zcr@124.221.216.72")])]),s._v(" "),t("h1",{attrs:{id:"配置-ssh-没配置成功-先跳过这一步吧"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-ssh-没配置成功-先跳过这一步吧"}},[s._v("#")]),s._v(" 配置 SSH（没配置成功，先跳过这一步吧）")]),s._v(" "),t("p",[t("strong",[s._v("作用：")]),s._v(" 以后登录远程服务器就不需要输入密码了")]),s._v(" "),t("h2",{attrs:{id:"_1-创建密钥-腾讯云-控制台-轻量应用服务器-密钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建密钥-腾讯云-控制台-轻量应用服务器-密钥"}},[s._v("#")]),s._v(" （1）创建密钥（-- 腾讯云/控制台/轻量应用服务器/密钥）")]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 创建完毕会自动下载一个密钥，要保存好，一会要上传到远程服务器")]),s._v(" "),t("h2",{attrs:{id:"_2-绑定实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-绑定实例"}},[s._v("#")]),s._v(" （2）绑定实例")]),s._v(" "),t("p",[s._v("绑定远程服务器")]),s._v(" "),t("h2",{attrs:{id:"_3-将密钥上传到远程服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-将密钥上传到远程服务器"}},[s._v("#")]),s._v(" （3）将密钥上传到远程服务器")]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 这个命令不需要登录 远程服务器，直接在终端输入即可")]),s._v(" "),t("p",[t("code",[s._v("ssh-copy-id -i ~/.ssh/密钥名称 用户@远程服务器ip")])]),s._v(" "),t("p",[t("strong",[s._v("例：")]),s._v(" "),t("code",[s._v("ssh-copy-id -i ~/.ssh/tenXunYunQinqLiangFuWuQi.pub zcr@124.221.216.72")])]),s._v(" "),t("p",[t("strong",[s._v("文档（以 mac 系统为例）：")]),s._v("\n1、Ubuntu 系统如何使用 root 用户登录实例？"),t("code",[s._v("https://cloud.tencent.com/document/product/1207/44569")]),s._v("\n2、管理密钥 "),t("code",[s._v("https://cloud.tencent.com/document/product/1207/44573")]),s._v("\n2、使用 SSH 登录 Linux 实例 / 使用密钥登录 "),t("code",[s._v("https://cloud.tencent.com/document/product/1207/44643")])]),s._v(" "),t("h1",{attrs:{id:"升级-apt-get-包管理工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#升级-apt-get-包管理工具"}},[s._v("#")]),s._v(" 升级 apt-get 包管理工具")]),s._v(" "),t("h2",{attrs:{id:"_1、登录远程服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、登录远程服务器"}},[s._v("#")]),s._v(" 1、登录远程服务器")]),s._v(" "),t("h2",{attrs:{id:"_2、升级-apt-get-包管理工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、升级-apt-get-包管理工具"}},[s._v("#")]),s._v(" 2、升级 apt-get 包管理工具")]),s._v(" "),t("p",[t("code",[s._v("sudo apt-get update")])]),s._v(" "),t("h1",{attrs:{id:"在远程服务器中-配置环境、安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在远程服务器中-配置环境、安装包"}},[s._v("#")]),s._v(" 在远程服务器中 配置环境、安装包")]),s._v(" "),t("h2",{attrs:{id:"_1、安装-nginx-轻量级-web-服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装-nginx-轻量级-web-服务器"}},[s._v("#")]),s._v(" 1、安装 nginx（轻量级 web 服务器）")]),s._v(" "),t("p",[t("code",[s._v("sudo apt-get install nginx")])]),s._v(" "),t("h2",{attrs:{id:"_2、安装-nodejs-环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、安装-nodejs-环境"}},[s._v("#")]),s._v(" 2、安装 nodejs 环境")]),s._v(" "),t("p",[t("code",[s._v("sudo apt-get install nodejs")])]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 安装的版本比较低，如果是版本 10 的需要手动升级，目前稳定版是版本 16")]),s._v(" "),t("p",[t("strong",[s._v("查看版本：")]),s._v(" node --version")]),s._v(" "),t("p",[t("strong",[s._v("升级到最新版：")]),s._v(" 因为 nodejs 不能自升级到最新版，所以需要借助 n 这个库")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("下载 n 包：")]),s._v(" sudo npm i -g n")]),s._v(" "),t("li",[t("strong",[s._v("升级 node 至最新的稳定版：")]),s._v(" sudo n stable")])]),s._v(" "),t("h2",{attrs:{id:"_3、安装-npm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装-npm"}},[s._v("#")]),s._v(" 3、安装 npm")]),s._v(" "),t("p",[t("code",[s._v("sudo apt-get install npm")])]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 版本如果是 6 的需要手动升级，目前稳定版是版本 8")]),s._v(" "),t("p",[t("strong",[s._v("查看版本：")]),s._v(" npm --version")]),s._v(" "),t("p",[t("strong",[s._v("升级到最新版：")]),s._v(" sudo npm i -g npm@latest")]),s._v(" "),t("h2",{attrs:{id:"_4、切换-npm-下载资源的镜像地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、切换-npm-下载资源的镜像地址"}},[s._v("#")]),s._v(" 4、切换 npm 下载资源的镜像地址")]),s._v(" "),t("p",[t("strong",[s._v("下载：")]),s._v(" "),t("code",[s._v("sudo npm i nrm -g")])]),s._v(" "),t("p",[t("strong",[s._v("查看镜像地址：")]),s._v(" "),t("code",[s._v("nrm ls")])]),s._v(" "),t("p",[t("strong",[s._v("切换为淘宝的镜像：")]),s._v(" "),t("code",[s._v("nrm use taobao")])]),s._v(" "),t("h2",{attrs:{id:"_5、测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、测试"}},[s._v("#")]),s._v(" 5、测试")]),s._v(" "),t("p",[s._v("浏览器输入服务器 ip 或 域名，如果显示 Welcome to nginx! 代表配置成功")]),s._v(" "),t("h1",{attrs:{id:"将远程仓库中的项目部署到远程服务器中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将远程仓库中的项目部署到远程服务器中"}},[s._v("#")]),s._v(" 将远程仓库中的项目部署到远程服务器中")]),s._v(" "),t("h2",{attrs:{id:"_1、进入到该目录下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、进入到该目录下"}},[s._v("#")]),s._v(" 1、进入到该目录下")]),s._v(" "),t("p",[t("code",[s._v("cd /var/www/html")])]),s._v(" "),t("h2",{attrs:{id:"_2、克隆远程仓库到该目录中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、克隆远程仓库到该目录中"}},[s._v("#")]),s._v(" 2、克隆远程仓库到该目录中")]),s._v(" "),t("p",[t("code",[s._v("sudo git clone <远程仓库中的 HTTPS>")])]),s._v(" "),t("ul",[t("li",[s._v("输入 gitee 账号")]),s._v(" "),t("li",[s._v("输入 gitee 密码")])]),s._v(" "),t("h3",{attrs:{id:"bug-远程仓库-和-远程服务器没有建立连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bug-远程仓库-和-远程服务器没有建立连接"}},[s._v("#")]),s._v(" BUG：远程仓库 和 远程服务器没有建立连接")]),s._v(" "),t("p",[t("img",{attrs:{src:"images/2022-05-19-14-04-51.png",alt:""}})]),s._v(" "),t("p",[t("strong",[s._v("解决方法：")]),s._v(" 将服务器的 SSH 公钥添加到远程仓库中")]),s._v(" "),t("p",[s._v("1、返回远程服务器根目录\n2、进入到 .ssh 目录目录中：cd .ssh\n3、创建公钥和密钥：ssh-keygen\n4、查看公钥，并复制内容：car id_rsa.pub\n5、进入到远程仓库中 → 管理 → 部署公钥管理 → 添加公钥 → 设置标题 → 将公钥粘贴到内容中 → 添加\n6、进入到 vue 目录下：/var/www/html/vue/\n7、git clone <远程仓库中的 HTTPS>")]),s._v(" "),t("h2",{attrs:{id:"_4、进入到项目中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、进入到项目中"}},[s._v("#")]),s._v(" 4、进入到项目中")]),s._v(" "),t("p",[t("code",[s._v("cd <项目名称>")])]),s._v(" "),t("p",[t("strong",[s._v("例：")]),s._v(" "),t("code",[s._v("cd my-zhengzhengrishang-pc/")])]),s._v(" "),t("h2",{attrs:{id:"_5、安装依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、安装依赖"}},[s._v("#")]),s._v(" 5、安装依赖")]),s._v(" "),t("p",[t("code",[s._v("sudo npm i")])]),s._v(" "),t("h3",{attrs:{id:"bug-报很多-npm-err-的错-而且也没有出现-node-modules-这个目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bug-报很多-npm-err-的错-而且也没有出现-node-modules-这个目录"}},[s._v("#")]),s._v(" BUG：报很多 npm ERR 的错，而且也没有出现 node_modules 这个目录")]),s._v(" "),t("p",[t("strong",[s._v("解决方法：")]),s._v(" 重新安装本机在使用的 npm 版本\n"),t("code",[s._v("sudo npm i -g npm@6.14.13")])]),s._v(" "),t("h2",{attrs:{id:"_6、打包项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、打包项目"}},[s._v("#")]),s._v(" 6、打包项目")]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 这里如果打包不成功可以现在本地打包在上传")]),s._v(" "),t("p",[t("code",[s._v("sudo npm run build")])]),s._v(" "),t("h1",{attrs:{id:"修改-nginx-配置文件-使其响应项目中的-html"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-nginx-配置文件-使其响应项目中的-html"}},[s._v("#")]),s._v(" 修改 nginx 配置文件，使其响应项目中的 html")]),s._v(" "),t("h2",{attrs:{id:"_1、打开-default-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、打开-default-文件"}},[s._v("#")]),s._v(" 1、打开 default 文件")]),s._v(" "),t("p",[t("code",[s._v("sudo vim /etc/nginx/sites-available/default")])]),s._v(" "),t("h2",{attrs:{id:"_2、修改配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、修改配置"}},[s._v("#")]),s._v(" 2、修改配置")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 改（旧）\nroot "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 改（新）\nroot "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("项目目录"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"_3、检查语法-可以用来查看-nginx-的配置文件所在位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、检查语法-可以用来查看-nginx-的配置文件所在位置"}},[s._v("#")]),s._v(" 3、检查语法（可以用来查看 nginx 的配置文件所在位置）")]),s._v(" "),t("p",[t("code",[s._v("sudo nginx -t")])]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 显示 syntax is ok、successful 这些单词代表成功")]),s._v(" "),t("h2",{attrs:{id:"_4、重启-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、重启-nginx"}},[s._v("#")]),s._v(" 4、重启 nginx")]),s._v(" "),t("p",[t("code",[s._v("sudo nginx -s reload")])]),s._v(" "),t("h1",{attrs:{id:"开启-https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启-https"}},[s._v("#")]),s._v(" 开启 https")]),s._v(" "),t("p",[t("strong",[s._v("文档：")]),s._v(" "),t("code",[s._v("https://cloud.tencent.com/document/product/400/35244")])]),s._v(" "),t("h2",{attrs:{id:"_1-申请免费证书-腾讯云-控制台-搜索-ssl-选择-ssl-证书-我的证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-申请免费证书-腾讯云-控制台-搜索-ssl-选择-ssl-证书-我的证书"}},[s._v("#")]),s._v(" （1）申请免费证书（-- 腾讯云/控制台/搜索 ssl/选择 ssl 证书/我的证书）")]),s._v(" "),t("p",[t("strong",[s._v("说明：")]),s._v(" 跟着推荐选，只填必填的就可以了")]),s._v(" "),t("h2",{attrs:{id:"_2-下载证书-同上"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载证书-同上"}},[s._v("#")]),s._v(" （2）下载证书（-- 同上）")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("下载 Nginx\n")])])]),t("h2",{attrs:{id:"_3-上传证书文件到远程服务器-并-修改-nginx-配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-上传证书文件到远程服务器-并-修改-nginx-配置文件"}},[s._v("#")]),s._v(" （3） 上传证书文件到远程服务器 并 修改 nginx 配置文件")]),s._v(" "),t("h3",{attrs:{id:"_1、打开-finalshell-软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、打开-finalshell-软件"}},[s._v("#")]),s._v(" 1、打开 FinalShell 软件")]),s._v(" "),t("h3",{attrs:{id:"_2、点击目录图标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、点击目录图标"}},[s._v("#")]),s._v(" 2、点击目录图标")]),s._v(" "),t("h3",{attrs:{id:"_3、点击菜单栏第一个图标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、点击菜单栏第一个图标"}},[s._v("#")]),s._v(" 3、点击菜单栏第一个图标")]),s._v(" "),t("h3",{attrs:{id:"_4、点击-ssh-连接-linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、点击-ssh-连接-linux"}},[s._v("#")]),s._v(" 4、点击 SSH 连接(Linux)")]),s._v(" "),t("h3",{attrs:{id:"_5、推荐连接远程服务器的信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、推荐连接远程服务器的信息"}},[s._v("#")]),s._v(" 5、推荐连接远程服务器的信息")]),s._v(" "),t("ul",[t("li",[s._v("名称：自定义")]),s._v(" "),t("li",[s._v("主机：远程服务器官网 IP")]),s._v(" "),t("li",[s._v("端口：22")]),s._v(" "),t("li",[s._v("认证方法：公钥")]),s._v(" "),t("li",[s._v("用户名：远程服务器用户名")]),s._v(" "),t("li",[s._v("私钥：在配置 SSH 时下载的私钥")])]),s._v(" "),t("h3",{attrs:{id:"_6、点击连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、点击连接"}},[s._v("#")]),s._v(" 6、点击连接")]),s._v(" "),t("h3",{attrs:{id:"_7、进入到远程服务器目录中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、进入到远程服务器目录中"}},[s._v("#")]),s._v(" 7、进入到远程服务器目录中")]),s._v(" "),t("p",[t("code",[s._v("cd /")])]),s._v(" "),t("h3",{attrs:{id:"_8、创建-ssl-目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8、创建-ssl-目录"}},[s._v("#")]),s._v(" 8、创建 ssl 目录")]),s._v(" "),t("p",[t("code",[s._v("sduo mkdir ssl")])]),s._v(" "),t("h3",{attrs:{id:"_9、进入到-sll-目录中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9、进入到-sll-目录中"}},[s._v("#")]),s._v(" 9、进入到 sll 目录中")]),s._v(" "),t("p",[t("code",[s._v("cd ssl")])]),s._v(" "),t("h3",{attrs:{id:"_10、上传证书-秘钥、文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10、上传证书-秘钥、文件"}},[s._v("#")]),s._v(" 10、上传证书 秘钥、文件")]),s._v(" "),t("p",[t("code",[s._v("sudo rz")])]),s._v(" "),t("h3",{attrs:{id:"_11、打开-nginx-配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11、打开-nginx-配置文件"}},[s._v("#")]),s._v(" 11、打开 nginx 配置文件")]),s._v(" "),t("p",[t("strong",[s._v("提示：")]),s._v(" default 文件最好备份一下，如果配置不成功方便改回来")]),s._v(" "),t("p",[t("code",[s._v("sudo vim /etc/nginx/sites-available/default")])]),s._v(" "),t("h3",{attrs:{id:"_12、修改-nginx-配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12、修改-nginx-配置文件"}},[s._v("#")]),s._v(" 12、修改 nginx 配置文件")]),s._v(" "),t("p",[t("strong",[s._v("科普：")]),s._v(" Nginx 可以配置多个服务器，一个Server就是一个服务器")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-- 增\nserver {\n  # SSL 访问端口号为 443\n  listen 443 ssl;\n\n  # 绑定证书的域名\n  server_name zhengzhengrishang.cc;\n\n  # 证书文件所在路径\n  ssl_certificate /ssl/zhengzhengrishang.cc_bundle.crt;\n\n  # 私钥文件所在路径\n  ssl_certificate_key /ssl/zhengzhengrishang.cc.key;\n\n  # 代理配置\n  location / {\n    # 网站默认打开文件所在目录\n    root /var/www/html/demo;\n\n    # 网站默认打开文件名称\n    index index.html index.htm;\n  }\n}\n--\n\nserver {\n  listen 80 default_server;\n  listen [::]:80 default_server;\n\n  root /var/www/html/demo;\n\n  index index.html index.html index.nginx-debian.html;\n\n  server_name _;\n\n  location / {\n          try_files $uri $uri/ =404;\n  }\n\n  -- 增\n  # 永久重定向\n  return 301 https://www.$host$request_uri;\n  --\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br")])]),t("h3",{attrs:{id:"_13、检测语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_13、检测语法"}},[s._v("#")]),s._v(" 13、检测语法")]),s._v(" "),t("p",[t("code",[s._v("sudo nginx -t")])]),s._v(" "),t("h3",{attrs:{id:"_14、重启-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14、重启-nginx"}},[s._v("#")]),s._v(" 14、重启 nginx")]),s._v(" "),t("p",[t("code",[s._v("sudo nginx -s reload")])]),s._v(" "),t("h3",{attrs:{id:"_15、测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_15、测试"}},[s._v("#")]),s._v(" 15、测试")]),s._v(" "),t("p",[s._v("访问 http 跳转到 https 代表成功")]),s._v(" "),t("h1",{attrs:{id:"配置-生产-环境下的接口代理-sudo-vim-etc-nginx-sites-available-default"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-生产-环境下的接口代理-sudo-vim-etc-nginx-sites-available-default"}},[s._v("#")]),s._v(" 配置 生产 环境下的接口代理（-- sudo vim /etc/nginx/sites-available/default）")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("server {\n  ...\n\n  # 拦截携带 / 的接口\n  location / {\n    # 网站默认打开文件所在目录\n    root /var/www/html/demo;\n\n    # 网站默认打开文件名称\n    index index.html index.htm;\n  }\n\n  -- 增\n  # 拦截携带 /api 的接口\n  location /api {\n    # 代理到的目标地址\n    proxy_pass https://api.it120.cc/zcr;\n  }\n  --\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);