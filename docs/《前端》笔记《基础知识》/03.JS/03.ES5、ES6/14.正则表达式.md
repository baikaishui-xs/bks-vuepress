---
title: 正则表达式
date: 2022-06-26 18:33:08
permalink: /pages/6eb750/
categories:
  - 《前端》笔记
  - JS
  - ES5、ES6
tags:
  - 
---
# 知识点： 正则表达式

**作用：** 匹配字符串中字符组合的规则

**使用场景：**
1. **匹配：** 表单验证
2. **替换：** 敏感词
3. **提取：** 从字符串中获取指定部分

**方法：** 通常使用已经写好的正则表达式：http://c.runoob.com/front-end/854

## 一、创建

### （一）通过 构造函数

`var 变量名 = new RegExp(/表达式/[特性])`

**特性：**
1. **g：** 全局匹配
2. **i：** 忽略大小写
3. **gi：** 全局匹配 + 忽略大小写

```js
var regexp = new RegExp(/123/);
```
### （二）通过 字面量：var 变量名 = /表达式/（推荐）
`var rg = /123/;`

## 二、表达式.test('字符串')

**作用：** 检测字符串是否符合正则表达式要求的规范

**返回值：** 布尔值（true：符合；false：不符合）

```js
console.log(rg.test(123));
console.log(rg.test('abc'));
```

## 三、元字符

**概念：** 正则表达式中具有特殊意义的字符

### （1）边界符

**^：** 必须以某个字符开始

**$：** 必须以某个字符结束

**^ 加 $：** 精准匹配

### （2）包含符

**[]：** 包含一系列字符串中的一个

### （3）不包含符

**[^]：** 不包含一系列字符串中的一个

### （4）范围符

**-：** a-z、A-Z、0-9

### （5）量词符符

**作用：** 规定字符出现的次数

***：** 至少出现 0 次以上
**+：** 至少出现 1 次以上
**?：** 出现1次 或 出现0次; 相对于 1 || 0
**{n}：** 重复 n 次
**{n,}：** 重复 n 次以上
**{n,n}：** 重复 n 次以上，并且小于等于 n 次（注意逗号后面不跟空格）
**(){n}：** 让括号里面的字符重复 n 次

## 四、预定义类

**\d：** 匹配 0 ~ 9 之间的任意数字。 相当于 [0-9]
**\D：** 匹配 0 ~ 9 以外的任意数字。 相当于 [^0-9]
**\w：** 匹配 任意 字母、数字、下划线。 相当于[A-Za-z0-9_]
**\W：** 匹配 任意 字母、数字、下划线 以外的字符。 相当于[^A-Za-z0-9_]
**\s：** 匹配 空格（包括 换行符、制表符、空格符 等）。 相当于[\t\r\n\v\f]
**\s：** 匹配 空格（包括 换行符、制表符、空格符 等）之外的字符。 相当于[^\t\r\n\v\f]

## 五、替换

**方法：** `字符串.replace(表达式, 替换为的字符);`

**返回值：** 新字符串

```js
var text = document.querySelector('textarea');
var btn = document.querySelector('button');
var div = document.querySelector('div');
btn.onclick = function() {
    div.innerHTML = text.value.replace(/激情|gay/g, '**');
}
```

# demo
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <textarea name="" id="message"></textarea> <button>提交</button>
    <div></div>
    <script>
        // 知识点：正则表达式
        // 作用：匹配字符串中字符组合的规则
        // 使用场景：
            // 1、匹配：表单验证
            // 2、替换：敏感词
            // 2、提取：从字符串中获取指定部分
        // 方法：通常使用已经写好的正则表达式：http://c.runoob.com/front-end/854

        // （1）创建
            // 方法一：通过 构造函数： var 变量名 = new RegExp(/表达式/[特性])
                // 特性：1、g：全局匹配  2、i：忽略大小写  3、gi：全局匹配 + 忽略大小写
            var regexp = new RegExp(/123/);

            // 方法二（推荐）：通过 字面量：var 变量名 = /表达式/;
            var rg = /123/;

        // （2）表达式.test('字符串')
            // 作用：检测字符串是否符合正则表达式要求的规范
            // 返回值：布尔值（true：符合；false：不符合）
            console.log(rg.test(123));
            console.log(rg.test('abc'));


        /* （3）元字符
            概念：正则表达式中具有特殊意义的字符

                1、边界符
                    ^：必须以某个字符开始
                    $：必须以某个字符结束
                    ^ 加 $：精准匹配

                2、包含符
                    []：包含一系列字符串中的一个

                3、不包含符
                    [^]：不包含一系列字符串中的一个

                4、范围符
                    -：a-z、A-Z、0-9
                
                5、量词符符
                    // 作用：规定字符出现的次数
                    *：至少出现 0 次以上
                    +：至少出现 1 次以上
                    ?：出现1次 或 出现0次; 相对于 1 || 0
                    {n}：重复 n 次
                    {n,}：重复 n 次以上
                    {n,n}：重复 n 次以上，并且小于等于 n 次（注意逗号后面不跟空格）
                    (){n}：让括号里面的字符重复 n 次
        */

        /* 
        （4）预定义类
            \d：匹配 0 ~ 9 之间的任意数字。 相当于 [0-9]
            \D：匹配 0 ~ 9 以外的任意数字。 相当于 [^0-9]
            \w：匹配 任意 字母、数字、下划线。 相当于[A-Za-z0-9_]
            \W：匹配 任意 字母、数字、下划线 以外的字符。 相当于[^A-Za-z0-9_]
            \s：匹配 空格（包括 换行符、制表符、空格符 等）。 相当于[\t\r\n\v\f]
            \s：匹配 空格（包括 换行符、制表符、空格符 等）之外的字符。 相当于[^\t\r\n\v\f]
        */

        // （5）替换
        // 方法：字符串.replace(表达式, 替换为的字符);
        // 返回值：新字符串
        var text = document.querySelector('textarea');
        var btn = document.querySelector('button');
        var div = document.querySelector('div');
        btn.onclick = function() {
            div.innerHTML = text.value.replace(/激情|gay/g, '**');
        }
            
    </script>
</body>
</html>
```