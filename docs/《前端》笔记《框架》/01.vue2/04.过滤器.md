---
title: 过滤器
date: 2022-06-27 11:01:39
permalink: /pages/ae2ef8/
categories:
  - 《前端》笔记《框架》
  - 1.vue2
tags:
  - 
---
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!-- 知识点：过滤器
    提示：VUE3 已经舍弃这个功能了
    作用：格式化文本
    应用场景：插值表达式、v-bind
    特性：过滤器函数必须有返回值
    使用步骤：
        1、在要过滤的变量的后面加 管道符（|）和调用过滤器函数
        2、在 filter 中定义过滤器函数
  -->
  <div id="app">
    <p>message 的值是：{{ message | capi }}</p>
    <p>{{ data | dateFormat }}</p>
  </div>

  <script src="sucai/vue-2.6.12.js"></script>
  <script src="sucai/dayjs.min.js"></script>
  <script>
    //   特性：
        // 1、如果 全局过滤器 和 私有过滤器 重名，则会使用 私有过滤器
        // 2、允许连续调用多个过滤器，后面的过滤器会过滤前面过滤器返回的结果
        // 3、如果过滤器要传参，是从第二个形参开始接收，第一个形参永远是管道符前面的变量

    // （1）全局过滤器
        // 作用：可以在所有 实例中使用
        // 特性：定义在 Vue.filter 方法中
        // 方法：Vue.filter('过滤器名', 处理函数)
        Vue.filter('capi', function (str) {
            // 第一个形参：管道符前面的变量
            const first = str.charAt(0).toUpperCase()
            const other = str.slice(1)
            return first + other + '~~~'
        })
        Vue.filter('dateFormat', function (time) {
            // dayjs.min.js
                // 作用：格式化时间 和 日期
                // 下载：npm install dayjs --save
                // 文档：https://dayjs.gitee.io/docs/zh-CN/parse/string-format#%E6%94%AF%E6%8C%81%E7%9A%84%E8%A7%A3%E6%9E%90%E5%8D%A0%E4%BD%8D%E7%AC%A6%E5%88%97%E8%A1%A8
                const dtStr = dayjs(time).format('YYYY-MM-DD HH:mm:ss')
                return dtStr
        })

    // （2）私有过滤器
        // 作用：只能在定义的 实例中使用
        // 语法：在 Vue 实例中的 filters 节点中定义
        const vm = new Vue({
          el: '#app',
          data: {
              message: 'hello vue.js',
              data: 'Wed Aug 11 2021 17:53:50 GMT+0800 (中国标准时间)'
          },
          // filters：定义过滤器函数
          filters: {
              // 功能：字符串首字母大写
              capi(val) {
              const first = val.charAt(0).toUpperCase()
              const other = val.slice(1)
              return first + other
              }
          }
        })
    
  </script>
</body>

</html>