---
title: axios 发送请求
date: 2022-06-27 11:01:39
permalink: /pages/37b216/
categories:
  - 《前端》笔记《框架》
  - 1.vue2
tags:
  - 
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <button id="btnPost">发起POST请求</button>
    <button id="btnGet">发起GET请求</button>

    <script src="sucai/axios.js"></script>
    <script>
      // 知识点：axios 发送请求
      // 作用：专注于数据请求的库
      // 安装：
      // 方法一：npm install axios
      // 方法二：图形可视化界面（Vue cli）
      // 依赖 → 安装依赖 → 运行依赖 → 搜索 axios 并安装

      // 引入：import axios from 'axios'

      // 特性：会将服务端响应的数据进行包装，并返回一个 Promise 对象，只有 data 属性是服务端返回的数据，其它属性都是 axios 包装的（可以使用 Postman 查看服务端响应的真实数据）
      // 提示：以后只推荐使用 axios发送请求，不推荐使用 jQuery发送请求

      // 在请求头中添加字段
      // 方法一
      axios.defaults.headers.common['Content-Type'] = 'application/x-www-form-urlencoded'
      // 方法二
      this.axios
        .post(
          '/shop/goods/list/v2',
          {
            categoryId: ['263919'],
          },
          {
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
            },
          }
        )
        .then(res => {
          this.goodsList = res
        })

      // 请求 POST
      document.querySelector('#btnPost').addEventListener('click', async function () {
        const { data } = await axios({
          // 请求方式
          method: 'POST',
          // 请求的地址
          url: 'http://www.liulongbin.top:3006/api/post',
          // 请求体 参数（POST 传参）
          data: {
            name: 'zs',
            age: 20,
          },
        })
        console.log(data)
      })

      // 请求 GET
      document.querySelector('#btnGet').addEventListener('click', async function () {
        const { data: res } = await axios({
          method: 'GET',
          url: 'http://www.liulongbin.top:3006/api/getbooks',
          // params：存储在 URL 中的参数（GET 传参）
          params: {
            id: 1,
            name: 'zs',
            age: 20,
          },
        })
        console.log(res.data)
      })
    </script>
  </body>
</html>
