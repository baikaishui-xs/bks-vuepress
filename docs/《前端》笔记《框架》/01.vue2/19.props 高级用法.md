---
title: props 高级用法
date: 2022-06-27 11:01:39
permalink: /pages/c39f39/
categories:
  - 《前端》笔记《框架》
  - 1.vue2
tags:
  - 
---
  科普：为了提高组件的复用性，在封装 vue 组件时需要遵守如下的原则:
    1、组件的 DOM 结构、Style 样式要尽量复用
    2、组件中要展示的数据，尽量由组件的使用者提供

  作用：通过自定义属性，接收父组件传递过来的数据

  特性：
    1、props 是只读的
      错误写法：<button @click ="init += 1">+1<button>
      解决方法：将 自定义属性 转存到 data 节点中
      提示：转存到 data 中的 props 变量名前面最好跟上 pro，用来区分转存的变量
      例：
        data() {
          return {
            proInit = this.init
          }
        }

  命名：在 props 中的名字采用 驼峰命名法 使用时,可以写成 短横线分割命名法
    props: ['pubTims']
    <my-article pubTims="1989"></my-article>
    <my-article pub-time="1989"></my-article>

  内置属性：
    （1）默认值（用户不传自定义属性时，生效）
      语法：default
      如：
        props: {
          init: {
            // default：定义默认值
            default: 6
          }
        }

    （2）类型校验（校验用户传递过来的值）
        语法：type
        类型：
          1、String：字符串
          2、Number：数字
          3、Boolean：布尔值
          4、Array：数组
          5、Object：对象
          6、Date：日期
          7、Function：函数
          8、Symbol：符号
        如：
          props: {
            init: {
              type: Number

              // 数组形式（指定多个类型）
              // type: [Stirng, Number]
            }
          }
        

    （3）必填项校验（该自定义属性必须填写）
        语法：required
        如：
          props: {
            init: {
              required: true
            }
          }   

  自定义验证函数：
    作用：对 prop 属性的值进行更加精确的控制
    语法：validator(用户传递过来的属性值）
    返回值：（true：通过）（false：不通过）
    如：属性的值必须匹配 'success', 'warning', 'danger' 中的其中一个
      props: {
        init: {
          validator(value) {
            return ['success', 'warning', 'danger'].indexOf(value) !== -1
          }
        }
      } 